## פרק 3 - פירוק בעיות והגדרת משימות נכונה
### ההבדל בין משימה רחבה מדי לצרה מדי
אחת הסיבות הנפוצות לכך שסוכן קוד “הולך לאיבוד” היא לא טעות בקוד,
אלא משימה שלא הוגדרה נכון.
משימה רחבה מדי נשמעת בהתחלה כמו רעיון טוב.
לתת לסוכן חופש. לאפשר לו לראות את התמונה הגדולה.
בפועל, זה בדיוק מה שגורם לו להתפזר.
כשאומרים לסוכן “תשפר את המודול הזה” או “תעשה ריפקטורינג”,
הוא צריך להחליט לבד:
מה נחשב שיפור,
איפה מתחילים,
ואיזה שינוי שווה את המחיר.
בנקודה הזו הוא כבר לא מבצע משימה.
הוא מגדיר לעצמו משימה.
מהצד השני, משימה צרה מדי חונקת את היתרון שלו.
הנחיות ברמת שורה, שינוי נקודתי בלי הקשר,
גורמות לו לעבוד כמו עורך קוד איטי במיוחד.
האיזון נמצא באמצע.
משימה טובה לסוכן קוד:
•	ברורה במטרה
•	מוגדרת בהיקף
•	ומשאירה לו חופש בחירה בתוך מסגרת
לא “תכתוב לי קוד”,
ולא “תעשה מה שאתה חושב”.
אלא משהו בסגנון:
יש בעיה כאן, זה האזור, אלה האילוצים, וזו תוצאה שנחשבת הצלחה.
מתכנת שמכוון עבודה לומד לזהות את הנקודה הזו.
לא לפי נוסחה קבועה,
אלא לפי התחושה מתי הוא מעביר אחריות בצורה חכמה ומתי הוא פשוט מוותר עליה.

### איך לחתוך בעיה כך שסוכן לא ילך לאיבוד
כשבעיה לא חתוכה נכון, הסוכן לא טועה.
הוא פשוט עושה מה שאפשר.
הוא מתחיל לקרוא קבצים.
מזהה תבניות.
ומנסה להבין לבד מה חשוב ומה משני.
ופה בדיוק מתחילה הסטייה.
כדי למנוע את זה, החיתוך של הבעיה צריך להיות ברור עוד לפני שמתחילים.
לא ברמת המימוש, אלא ברמת הכוונה.
חיתוך טוב עונה על שלוש שאלות פשוטות:
•	איפה במערכת הבעיה באמת נמצאת
•	איפה לא נוגעים גם אם זה מפתה
•	ואיזה שינוי ייחשב פתרון מספק, לא מושלם
הסוכן לא צריך לדעת הכול.
הוא צריך לדעת איפה להתרכז.
כשלא מגדירים את נקודת המיקוד,
הוא יבחר אחת בעצמו.
ולפעמים זו בדיוק הנקודה הלא נכונה.
מתכנת שמכוון עבודה לא מנסה לחזות כל צעד של הסוכן.
הוא מנסה לצמצם את מרחב הטעויות האפשריות.
וברגע שעושים את זה,
העבודה הופכת מדויקת יותר, רגועה יותר, ובעיקר צפויה יותר.
 
### מתי לפרק, ומתי להשאיר רצף
יש פיתוי טבעי לפרק כל בעיה לחלקים קטנים.
זה מרגיש מסודר. נשלט. בטוח.
אבל לא כל בעיה אוהבת פירוק.
כשמפרקים יותר מדי, הסוכן מאבד את ההקשר.
הוא פותר חלקים בנפרד,
אבל מפספס את הזרימה ביניהם.
לעומת זאת, כשמשאירים רצף גדול מדי,
הוא צריך להחזיק יותר מדי דברים בראש בו זמנית,
ומתחיל לאלתר.
ההבחנה החשובה היא זו:
פירוק נועד להבהיר כוונה, לא לפרק אחריות.
אם החלקים תלויים זה בזה בצורה הדוקה,
אם שינוי אחד משפיע מיד על השני,
עדיף להשאיר רצף ולתת לסוכן לראות את התמונה המלאה.
אם לעומת זאת יש שלבים ברורים,
שאפשר לעצור ביניהם, לבדוק כיוון,
ורק אז להמשיך,
זה מקום טוב לפירוק.
מתכנת שמכוון עבודה לא שואל
“כמה קטן אפשר לחתוך”,
אלא
“איפה נכון לעצור לבדיקה”.
וברגע שמבינים את ההבדל הזה,
קל יותר להחליט מתי לפרק ומתי לתת לרצף לעבוד
 
### עצירה מקצועית: איפוס הקשר ופתיחת משימה מחדש
יש רגע בעבודה עם סוכן שבו המשימה כבר לא ברורה,
אבל אף אחד לא עצר להגיד את זה.
הפתרון לא מתקדם,
ההנחיות נהיות ארוכות יותר,
והשיחה מתמלאת בתיקונים קטנים.
זה סימן שהקשר התעייף.
איפוס הקשר הוא לא כישלון.
הוא פעולה מקצועית.
במקום להמשיך לתקן רצף שכבר איבד כיוון,
מפתח שמכוון עבודה יודע לעצור
ולפתוח את המשימה מחדש.
לא כדי להתחיל מאפס טכנית,
אלא כדי לנסח מחדש מה באמת צריך לקרות.
איפוס נכון כולל שלושה דברים:
•	ניסוח קצר וברור של המטרה
•	הגדרה מחודשת של גבולות המשימה
•	והחלטה מודעת מה לא נכנס הפעם
ברגע שעושים את זה,
הרבה רעש פשוט נעלם.
הסוכן לא צריך יותר מידע.
הוא צריך מידע נכון.
בעבודה עם סוכנים,
רצף ארוך הוא לא מטרה בפני עצמה.
הוא אמצעי.
ומי שמוכן לעצור ולפתוח משימה מחדש בזמן,
חוסך לעצמו שעות של תיקונים מאוחרים.

### חלוקת עבודה בין אדם לסוכן
הטעות הנפוצה ביותר בחלוקת עבודה בעבודה עם סוכן, היא לחשוב על חלוקת עבודה כעל חלוקת משימות.
מי עושה מה.
מי כותב איזה קוד.
אבל זו לא החלוקה האמיתית.
החלוקה החשובה היא בין החלטות לביצוע.
האדם מחליט:
•	מה הבעיה
•	מה נחשב פתרון טוב
•	ואיזה אילוצים אסור לשבור
הסוכן מבצע:
•	חיפוש בקוד
•	ניסוי מימושים
•	התאמות ושינויים בתוך המסגרת שניתנה לו
ברגע שהסוכן מתחיל לקבל החלטות עקרוניות,
משהו השתבש בחלוקה.
וברגע שהאדם מתערב בכל פרט קטן,
היתרון של הסוכן נעלם.
חלוקה טובה נראית כך:
האדם מגדיר כיוון,
הסוכן מתקדם בתוך הכיוון הזה,
והאדם בודק ומכוון מחדש לפי הצורך.
זו לא היררכיה של עליונות.
זו חלוקת תפקידים.
מתכנת שמכוון עבודה לא מוותר על חשיבה,
הוא פשוט מזיז אותה למקום שבו יש לה את הערך הגבוה ביותר.
### דוגמאות יומיומיות מפרויקטים אמיתיים
רוב הבעיות בעבודה עם סוכן קוד לא מגיעות מתרחישים קיצוניים.
הן מגיעות מיום עבודה רגיל.
בקשה להוסיף לוגיקה קטנה.
שינוי בהתנהגות של API קיים.
ריפקטורינג “קטן” בקוד שכבר עובד.
במצבים כאלה קל לחשוב שאין צורך לעצור ולחתוך בעיה כמו שצריך.
הכול נראה מוכר.
הכול נראה בשליטה.
ואז הסוכן:
•	נוגע בקובץ שלא התכוונת
•	משנה זרימה שלא ביקשת
•	או פותר בעיה אחת ויוצר אחרת בצד
לא כי הוא עשה משהו חריג,
אלא כי המשימה הוגדרה בצורה כללית מדי.
בדוגמאות כאלה ההבדל בין עבודה טובה לעבודה מתסכלת הוא קטן:
משפט אחד של הקשר.
גבול אחד ברור.
או החלטה להשאיר רצף במקום לפרק.
מתכנת שמכוון עבודה לומד לזהות את הרגעים האלה.
לא רק בפרויקטים גדולים,
אלא דווקא בשינויים הקטנים, היומיומיים,
שם הכי קל לאבד ריכוז ולתת לסוכן “להסתדר”.
וכשמתרגלים להגדיר משימות נכון גם שם,
העבודה עם סוכן קוד מפסיקה להיות הימור,
והופכת לשגרה מקצועית.
