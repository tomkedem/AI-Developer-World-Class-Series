---

title: "פרק 6 -  Iterative Debugging ודיאלוג עם המערכת"
weight: 8

---

## **פרק 6 -  Iterative Debugging ודיאלוג עם המערכת**
### עבודה עם שגיאות, לא נגדן
בפיתוח קלאסי, שגיאה היא משהו שמפריע להתקדמות.  


בדרך כלל מנסים להעלים אותה מהר ולחזור “לעבודה האמיתית”.  


בעבודה עם סוכן קוד, שגיאות הן העבודה האמיתית.  


לא כי אנחנו אוהבים תקלות,  


אלא כי השגיאה היא הפידבק הכי נקי שיש על מה שהמערכת באמת עושה.  



סוכן קוד שמנסה לתקן באג בלי לראות שגיאות,  


פועל בחושך.  


הוא ינחש, יוסיף תנאים, וינסה לעקוף.  



לעומת זאת, כשמתייחסים לשגיאה כאל מידע,  


אפשר להפוך אותה לכלי ניווט.  



מה נשבר בדיוק.  


איפה נשבר.  


ומה זה אומר על ההנחות שהיו לנו על הקוד.  



מתכנת שמכוון עבודה לא מנסה להגן על הסוכן משגיאות.  


הוא משתמש בהן כדי לכוון אותו.  



במקום להגיד “לא, זה לא עובד”,  


הוא אומר: הנה הפלט. הנה המקום שבו זה נשבר. תתייחס לזה.  



ברגע שמתרגלים לחשוב כך,  


שגיאות מפסיקות להיות מעצור,  


והופכות למסלול.  



### שימוש בפלט טרמינל כמשוב

פלט טרמינל הוא לא רעש.  


הוא שיחה.  



הרבה מפתחים מסתכלים על הטרמינל רק כדי לבדוק אם משהו עבר או נכשל.  


ירוק או אדום.  


עובד או לא עובד.  



בעבודה עם סוכן קוד, הפלט עצמו הוא חומר הגלם.  



שגיאה.  


אזהרה.  


סטאק טרייס.  


אפילו לוג שנראה שולי.  



כל אחד מהם מספר לסוכן משהו על המערכת,  


אבל רק אם אתה נותן לו להתעכב עליו.  



במקום להגיד “זה נכשל, תנסה שוב”,  


אפשר להחזיר לו את הפלט ולבקש שיתייחס אליו.  



לא כתקלה, אלא כמידע.  



מה זה אומר על הזרימה.  


איזו הנחה הייתה שגויה.  


ואיזה חלק בקוד לא מתנהג כמו שחשבנו.  



מתכנת שמכוון עבודה לא מסנן את הפלט כדי “להקל”.  


הוא משתמש בו כדי לדייק.  



וככל שהפידבק מדויק יותר,  


כך גם התיקון הופך ממקרי לשיטתי.  



### איך מכוונים בלי לכתוב קוד בעצמך

אחת הקפיצות המנטליות הקשות בעבודה עם סוכן קוד היא לוותר על הדחף לכתוב.  



יש בעיה, אתה רואה בערך מה צריך להשתנות, והיד כבר רוצה להיכנס לקובץ.  



אבל כאן בדיוק נמצא הערך של הסוכן.  



הכוונה לא מתבצעת דרך שורות קוד,  


אלא דרך מסגור.  



אתה לא אומר לו איך לתקן,  


אלא איפה הבעיה מרגישה לא נכונה.  



לא מה לכתוב,  


אלא מה לא עומד בציפייה.  



לדוגמה:  


במקום להציע פתרון,  


אתה מחזיר את הפלט ושואל מה זה אומר על ההנחות שהיו.  



במקום להצביע על שורה,  


אתה מצביע על התנהגות.  



הסוכן טוב בלנסות מימושים.  


אתה טוב בזיהוי כיוון.  



כשהתפקידים נשמרים כך,  


העבודה זורמת מהר יותר ופחות נשברת בדרך.  



מתכנת שמכוון עבודה לומד להתאפק.  


לא כי הוא לא יודע לכתוב קוד,  


אלא כי הוא יודע מתי לא צריך.  



### מתי לתת לו להמשיך ומתי לעצור

אחת ההחלטות הכי חשובות בעבודה עם סוכן קוד היא לא מה לבקש ממנו,  


אלא מתי לא להפריע.  



יש רגעים שבהם הסוכן בתוך רצף טוב.  


הוא מבין את הבעיה.  


הכיוון נכון.  


והשינויים מצטברים בצורה הגיונית.  



במצב כזה, התערבות מוקדמת שוברת את הזרימה.  


עוצרים תהליך שעוד לא מיצה את עצמו.  



אבל יש רגעים אחרים, שקטים יותר,  


שבהם דווקא חייבים לעצור.  



לא כשיש שגיאה,  


אלא כשאין מספיק שאלות.  



אם הסוכן מתקדם מהר מדי בלי לבקש הבהרות,  


אם הוא נוגע בהרבה קבצים בלי לעצור להסביר למה,  


או אם הפתרון נהיה מורכב יותר ממה שהבעיה הצדיקה,  


זה סימן לעצירה.  



העצירה לא נועדה “לתקן אותו”.  


היא נועדה לבדוק כיוון לפני שממשיכים.  



מתכנת שמכוון עבודה לומד להבחין בין זרימה בריאה  


לבין ריצה שקטה לכיוון הלא נכון.  



וברגע שמבינים את ההבדל,  


קל יותר לדעת מתי לשחרר ומתי להחזיק רגע.  



### תיקון באג חוצה קבצים שלב אחר שלב

באגים רציניים כמעט אף פעם לא יושבים בקובץ אחד.  



הם חוצים שכבות.  



קוד, קונפיגורציה, בדיקות, לפעמים גם הנחות שלא נכתבו בשום מקום.  



כאן סוכן קוד נמצא בשיא היכולת שלו,  


אבל גם בסיכון הגבוה ביותר לסטייה.  



התיקון לא מתחיל בשינוי.  


הוא מתחיל בהבנה של הרצף.  



איזה קובץ פגש ראשון את הבעיה.  


איפה ההתנהגות השתנתה.  


ואיך המידע זורם בין החלקים השונים של המערכת.  



במקום לבקש “תתקן”,  


נותנים לסוכן לעבוד בשלבים.  



קודם להבין.  


אחר כך להציע כיוון.  


ורק אז לגעת בקוד.  



בכל שלב עוצרים ושואלים:  


מה השתנה עכשיו.  


איזה הנחה התבררה כשגויה.  


והאם אנחנו עדיין פותרים את אותה בעיה.  



מתכנת שמכוון עבודה לא ממהר לאיחוד פתרונות.  


הוא נותן לבאג להיחשף במלואו לפני שהוא נסגר.  



וכשמתרגלים לעבוד כך,  


באגים חוצי קבצים מפסיקים להיות סיוט,  


והופכים לתהליך ברור, גם אם הוא לא קצר.
